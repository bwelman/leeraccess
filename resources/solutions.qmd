# Oplossingen {.unnumbered}

## Verkennen

@exr-expl001 - Selectie Bonbons

De selectie kan via filteren verkregen worden. Open de tabel [Bonbons]{.varname}. Maak een filter in de kolom [Chocoladetype]{.varname} en selecteer uitsluitend de waarden `Melk` en `Puur`. Klik in de kolom [Bonbonkosten]{.varname} in een veld met de waarde `0,3`. Kies dan [tab Start > Selectie (groep Sorteren en filteren) > Kleiner dan of gelijk aan € 0,30]{.uicontrol}.

@exr-expl002 - Selectie Klanten op plaatsnaam

Open de tabel [Klanten]{.varname}. Klik op de filterpijl aan het eind van de kolomkop [Plaats]{.varname} en selecteer uitsluitend `Almelo`, `Enschede`, `Hengelo`.

@exr-expl003 - Selectie Klanten op postcode

Open de tabel [Klanten]{.varname}. Klik in de kolom [Plaats]{.varname} in een vak met de waarde `Amsterdam`. Kies dan [tab Start > Selectie (groep Sorteren en filteren) > is gelijk aan Amsterdam]{.uicontrol}. Klik op de filterpijl aan het eind van de kolomkop [Postcode]{.varname} en kies [Tekstfilters > Begint met ...]{.uicontrol}. Typ daarna in `20` en klik op [OK]{.uicontrol}.

## Data

@exr-data001 - Bonbons toevoegen}

Open het formulier [Bonbons]{.varname}. Klik op de knop voor een nieuw record en voeg de bonbons toe.

@exr-data002 - Order toevoegen

Zoek eerst in de tabel [Klanten]{.varname} de klantcode op van Rebecca Smit. Dit is `11`. Open daarna het formulier [Orders]{.varname}. Ga naar de laatste order. Deze heeft ordercode `967`. De nieuwe order krijgt daarom ordercode `968`. Klik op de knop [Nieuw Record]{.uicontrol}. Voeg in ordercode `968`, de orderdatum en klantcode `11` in. Voeg onderaan in het subformulier de te bestellen dozen (KERS en MARS) in.

Om de dozen MARS te verwijderen open je de tabel [Orderdetails]{.varname}, ga naar de laatste order met ordercode `968`. Selecteer de orderregel met Mars, rechter muisknop en dan Record verwijderen.


## Tabellen

@exr-tabl001 - Dubbele namen voorkomen

Open de tabel [Leveranciers]{.varname} in de Ontwerpweergave. Verander bij het veld [Leverancier]{.varname} de eigenschap [Geïndexeerd]{.uicontrol} in [Ja (Geen duplicaten)]{.uicontrol}.

@exr-tabl002 - Tussenvoegsel in namen

Er moet dan aan de tabel [Klanten]{.varname} een nieuw veld [Tussenvoegsel]{.varname} worden toegevoegd. In het veld [Achternaam]{.varname} komt dan alleen `Molen` te staan. In het veld [Tussenvoegsel]{.varname} komt `van de` te staan. Sorteren op [Achternaam]{.varname} geeft dan de gewenste weergave. Op een etiket kan dan op één regel achter elkaar de velden Voornaam [Tussenvoegsel]{.varname} en [Achternaam]{.varname} worden gezet.

@exr-tabl003 - Titelveld met keuzelijst

Open de tabel [Klanten]{.varname} in de ontwerpweergave. Voeg een veld [Titel]{.varname} toe. Kies bij [Gegevenstype]{.uicontrol} voor [Wizard opzoeken…]{.uicontrol}. Geef bij het dan volgende dialoogscherm aan dat de waarden worden ingetypt. Er is maar 1 kolom nodig. Typ in deze kolom onder elkaar in: ing., ir., drs., mr., dr. Gebruik voor het bijschrift de tekst `Titel`.

@exr-tabl004 - Valutanotatie

Open de tabel [Vervoer]{.varname} in de Ontwerpweergave, selecteer het veld [Vervoerskosten]{.varname} en wijzig de waarde van de eigenschap [Notatie]{.uicontrol} in `Euro`.

@exr-tabl005 - Samengestelde sleutel

Open de tabel [Vervoer]{.varname} in de Ontwerpweergave. Selecteer de velden [ID vervoersbedrijf]{.varname} en [Aflever-provincie]{.varname}. Klik daarna op de knop [Primaire sleutel]{.uicontrol}.

@exr-tabl006 - Veld doelgroep met keuzelijst

Open de tabel [Klanten]{.varname} in de ontwerpweergave. Voeg een veld [Doelgroep]{.varname} toe. Kies bij [Gegevenstype]{.uicontrol} voor [Wizard opzoeken…]{.uicontrol}. Geef bij het dan volgende dialoogscherm aan dat de waarden worden ingetypt. Er is maar 1 kolom nodig. Typ in deze kolom onder elkaar in: top klant, goede klant, kleine klant. Gebruik voor het bijschrift de tekst `Doelgroep`.

@exr-tabl007 - Relatie maken

De tabellen [Doosdetails]{.varname} en [Bonbons]{.varname} hebben het veld [Bonboncode]{.varname} als gemeenschappelijk veld. [Bonboncode]{.varname} is in de tabel [Bonbons]{.varname} de sleutel; dus is [Bonbons]{.varname} de primaire tabel (de één kant). Een bepaalde [Bonboncode]{.varname} kan in de tabel [Doosdetails]{.varname} vaker voorkomen, dus is [Doosdetails]{.varname} de veel kant. Kies [tab Hulpmiddelen voor databases > Relaties (groep Relaties)]{.uicontrol}. Selecteer het veld [Bonboncode]{.varname} in de tabel [Bonbons]{.varname} en sleep deze naar het veld [Bonboncode]{.varname} in de tabel [Doosdetails]{.varname}. Het vakje [Referentiële integriteit afdwingen]{.uicontrol} inschakelen.

@exr-tabl008 - Tabel Werknemers

Import van het Excelbestand.

1.  Kies [tab Externe gegevens > Nieuwe gegevensbron (groep importeren en koppelen) > Uit bestand > Excel]{.uicontrol}.
2.  Selecteer het bestand `Werknemers.xlsx` en kies voor [De brongegevens importeren in een nieuwe tabel in de huidige database]{.uicontrol}.
3.  Selecteer de optie [Eerste rij bevat kolomkoppen]{.uicontrol}.
4.  Wijzig het [Gegevenstype]{.uicontrol} van het veld [Werknemercode]{.varname} van [Dubbele precisie]{.uicontrol} in [Lange integer]{.uicontrol}.
5.  Maak het veld [Werknemercode]{.varname} de primaire sleutel.
6.  Geef de nieuwe tabel de naam [Werknemers]{.varname}.

Uitbreiding van de tabel [Orders]{.varname}.

1.  Open de tabel [Orders]{.varname} in de [Ontwerpweergave]{.uicontrol}.
2.  Voeg een veld toe met de naam [Werknemercode]{.varname} met als [Gegevenstype]{.uicontrol} [Numeriek]{.uicontrol} en als Veldlengte Lange integer.

Relatie tot stand brengen.

1.  Kies [tab Hulpmiddelen voor databases > Relaties (groep Relaties)]{.uicontrol}.
2.  Kies [tab Ontwerp > tabel weergeven (groep Relaties)]{.uicontrol} en voeg de tabel [Werknemers]{.varname} aan het raster toe.
3.  Selecteer het veld [Werknemercode]{.varname} in de tabel [Werknemers]{.varname} en sleep deze naar het veld [Werknemercode]{.varname} in de tabel [Orders]{.varname}. Het vakje [Referentiële integriteit afdwingen]{.uicontrol} inschakelen.

@exr-tabl009 - Contactregistratie

Er moet eigenlijk eerst een informatie-analyse gemaakt worden. Het resultaat hiervan moet opleveren welke velden in de tabel [Contacten]{.varname} moeten komen, wat de sleutel wordt en of er relaties met de andere tabellen moeten komen en zo ja via welke velden. Er kan dan ook niet één goed antwoord gegeven worden. Een mogelijk antwoord wordt in de afbeelding hierna weergegeven:

![](../images/tables/tabl009-contacts.png)

Aandachtspunten bij dit ontwerp en ook bij een ander ontwerp:

+ Van een klant zullen meerdere contacten vastgelegd moeten kunnen worden. Vandaar een sleutelveld [ContactID]{.varname} en de opname van het veld Klantcode (gegevenstype: Numeriek - Lange integer) waarmee een koppeling met de tabel Klanten gemaakt kan worden.
+ Wanneer de tabel Werknemers beschikbaar is, dan is het wel zo handig om bij de registratie van een contactmoment ook op te kunnen nemen door welke werknemer het contact is afgehandeld. In dat geval kan het veld Werknemercode (gegevenstype: Numeriek - Lange integer) opgenomen worden waarmee een koppeling met de tabel Werknemers gelegd kan worden.
+ Uit de informatie-analyse moet blijken welke waarden het veld SoortContact moet hebben. Voor dit veld kan dan het beste een opzoektabel gemaakt worden waarin de waarden zijn vastgelegd.
+ Voor de drie Datum/tijd velden moet een geschikte notatie gekozen worden, eventueel met een invoermasker.
+ Uit de informatie-analyse moet blijken hoe er met de berekening van de kosten wordt omgegaan. De afhandelingstijd kan berekend worden uit de begin- en eindtijd, is dus een procesgegeven en moet dus niet worden opgenomen in de tabel. Als het uurtarief een constante is, dan kan deze ook worden weggelaten uit de tabel. In dat geval wordt er dan niets over de kosten in de tabel opgenomen en wordt de berekening ervan uitgevoerd op het moment dat je dat wilt weten, bij een query of rapport. Varieert het uurtarief wel in de tijd, dan moet het uurtarief in de tabel worden opgenomen.

@exr-tabl010 - Klachtenregistratie

Er moet eigenlijk eerst een informatie-analyse gemaakt worden. Het resultaat hiervan moet opleveren welke velden in de tabel Klachten moeten komen, wat de sleutel wordt en of er relaties met de andere tabellen moeten komen en zo ja via welke velden. Er kan dan ook niet één goed antwoord gegeven worden. Een minimaal ontwerp wordt in de afbeelding hierna weergegeven:

![](../images/tables/tabl010-complaints.png)

Voor het veld [SoortKlacht]{.varname} kan het beste een opzoektabel gemaakt worden waarin de waarden zijn vastgelegd.

Er moet een relatie gelegd worden tussen deze tabel en de tabel [Orders]{.varname} via het veld [Ordercode]{.varname}. Het vakje [Referentiële integriteit afdwingen]{.uicontrol} inschakelen.

Mogelijke nuttige uitbreidingen bij dit ontwerp zijn:

+ datum klacht.
+ een uitvoeriger omschrijving van de klacht.
+ een ja/nee veld of de klacht al is afgehandeld.

@exr-tabl011 - Referentiële integriteit

1.  Kies [tab Hulpmiddelen voor database > Relaties (groep Relaties)]{.uicontrol}.
2.  Geef een dubbelklik op de relatiepijl tussen twee tabellen
3.  Indien nodig aanvinken [Referentiële integriteit afdwingen]{.uicontrol}.

## Queries

@exr-quer001 - Klanten uit Friesland en Groningen

Voeg de tabel [Klanten]{.varname} aan het queryraster toe. Voor het verdere ontwerp zie afbeelding.

![](../images/queries/quer001-design1.png)

![](../images/queries/quer001-design2.png)

@exr-quer002 - Direct mail campagne doos MARS

![](../images/queries/quer002-design.png)

Als conditie voor Orderdatum kun je ook gebruiken `>=#1-8-2010# And <=#30-11-2010#`

@exr-quer003 - Bonbondozen met lage prijs

![](../images/queries/quer003-design.png)

@exr-quer004 - Bonbons melk en puur met lage kosten

![](../images/queries/quer004-design.png)

@exr-quer005 - Klanten uit Enschede, Hengelo of Almelo

![](../images/queries/quer005-design.png)

@exr-quer006 - Klanten uit Amsterdam met postcode 20

![](../images/queries/quer006-design.png)

@exr-quer007 - Bonbons zonder vulling

![](../images/queries/quer007-design.png)

@exr-quer008 - Klanten niet uit Amsterdam

![](../images/queries/quer008-design.png)

@exr-quer009 - Aantal bonbons per doos

![](../images/queries/quer009-design.png)

@exr-quer010 - Aantal bonbonsoorten per doos

![](../images/queries/quer010-design.png)

@exr-quer011 - Aantal orders per regio

![](../images/queries/quer011-design.png)

@exr-quer012 - Totale omzet per klant

![](../images/queries/quer012-design.png)

@exr-quer013 - Klanten die order geplaatst hebben

![](../images/queries/quer013-design.png)

@exr-quer014 - Klanten waarvan achternaam Jansen of Janssen is uit regio Noord

![](../images/queries/quer014-design.png)

@exr-quer015 - Bonbons met vulling en zonder noot

![](../images/queries/quer015-design.png)

@exr-quer016 - Dozen zwaarder dan 150 gram met prijs van hoogstens 35 euro

![](../images/queries/quer016-design.png)

@exr-quer017 - Dozen met prijs tussen 17 en 25 en voorraad van minstens 400

![](../images/queries/quer017-design.png)

@exr-quer018 - Totale omzet per provincie

![](../images/queries/quer018-design.png)

@exr-quer019 - Klanten die week voor de kerst besteld hebben

![](../images/queries/quer019-design.png)

@exr-quer020 - Dozen met lage omzet

![](../images/queries/quer020-design.png)

@exr-quer021 - Klanten met omzet hoogstens 50 en postcode beginnend met 22

![](../images/queries/quer021-design.png)

@exr-quer023 - Klanten voor Zoet en bitter}

![](../images/queries/quer023-design.png)

@exr-quer024 - Plaatsen met minstens 2 klanten

![](../images/queries/quer024-design.png)

@exr-quer025 - Parameterquery bonbons

Maak via Queryontwerp een nieuwe lege query. Voeg de tabel Bonbons aan het queryvenster toe. Voeg de velden Chocoladetype, Bonbonnaam, Bonbonkosten en Bonbonbeschrijving aan het queryraster toe. Voeg in de kolom Chocoladetype bij Criteria in: [Voer chocoladetype in]. Zie de afbeelding hierna.

![](../images/queries/quer025-design.png)

@exr-quer026 - Bijwerkquery prijsverlaging

Maak via Queryontwerp een nieuwe lege query. Voeg de tabel Dozen aan het queryvenster toe. Voeg het veld [Doosprijs]{.varname} aan het queryraster toe. Wijzig het type query in [Bijwerken]{.uicontrol}. Geef daarna het veld [Wijzigen in]{.uicontrol} de waarde `[Doosprijs*0,85]`. Zie de afbeelding hierna.

![](../images/queries/quer026-design.png)

@exr-quer027 - Kruistabel dozen per gewicht}

![](../images/queries/quer027-design.png)

@exr-quer028 - Bijwerkquery prijsverhoging

Maak via Queryontwerp een nieuwe query, voeg tabel [Dozen]{.varname} toe en dan veld [Doosprijs]{.varname}. Wijzig het type query in [Bijwerken]{.uicontrol}. Geef het veld [Wijzigen in]{.uicontrol} de waarde `[Doosprijs]*1,1`.

![](../images/queries/quer028-design.png)

@exr-quer029 - Kruistabel omzet per klant per maand

De selectiequery kun je vanuit niets maken, maar je kunt ook het ontwerp van [quer012]{.varname} als basis nemen. Het maandnummer kun je uit het veld [Orderdatum]{.varname} halen met de functie `Month()` en het jaar met de functie `Year()`. De waarde `2010` moet bij de laatste als criterium worden toegevoegd.

![Ontwerp selectiequery](../images/queries/quer029-design-selection.png "Ontwerp selectiequery")

Voor Kies [Maken > Wizard Query > Wizard Kruistabelquery]{.uicontrol}. Gebruik de selectiequery als basis. Gebruik veld [Klantcode]{.varname} voor de rijkoppen, veld [Maand]{.varname} voor de kolomkoppen en `Som(Omzet)` voor de waarden.

![Ontwerp kruistabelquery](../images/queries/quer029-design-crosstab.png "Ontwerp kruistabelquery")

## Formulieren

@exr-form001 - Klanten

1.  Selecteer tabel [Klanten]{.varname}.
2.  Kies [tab Maken > Formulier (groep Formulieren)]{.uicontrol}.
3.  Zet het formulier in de [Ontwerpweergave]{.uicontrol}, verwijder de indeling en breng de wijzigingen in de lay-out aan.

@exr-form002 - Bonbons in dozen

1.  Kies [tab Maken > Wizard formulier]{.uicontrol}.
2.  Selecteer tabel [Bonbons]{.varname} en voeg alle velden toe.
3.  Selecteer tabel [Doosdetails]{.varname} en voeg toe de velden [Dooscode]{.varname} en [Hoeveelheid]{.varname}.
4.  Formulier met subformulier, weergeven volgens [Bonbons]{.varname}.
5.  Zet hoofdformulier in de ontwerpweergave, verwijder de schikking en pas de lay-out aan.

@exr-form003 - Dozen per klant

1.  Maak eerst als volgt de query [Dozen per klant]{.varname}. Kies [tab Maken > Queryontwerp]{.uicontrol}. Voeg toe de tabellen [Klanten]{.varname}, [Orders]{.varname} en [Orderdetails]{.varname}. Voeg uit de tabel [Klanten]{.varname} de velden [Klantcode]{.varname} en [Achternaam]{.varname} toe. Voeg uit de tabel [Orderdetails]{.varname} de velden [Dooscode]{.varname} en [Hoeveelheid]{.varname} toe.
2.  Kies [tab Maken > Wizard formulier]{.uicontrol}.
3.  Selecteer tabel [Dozen]{.varname} en voeg alle velden toe.
4.  Selecteer query [Dozen per klant]{.varname} en voeg de velden [Klantcode]{.varname}, [Achternaam]{.varname} en [Hoeveelheid]{.varname} toe.
5.  Geef de gegevens weer volgens [Dozen]{.varname} in een hoofdformulier met subformulier.


## Rapporten

@exr-rapp001 - Verkoop per regio per doos

1.  Kies [tab Maken > Wizard Rapport (groep Rapporten)]{.uicontrol}.
2.  Kies als gegevensbron de query [Verkoop per regio per doos]{.varname} en voeg alle velden toe. Neem als groepeerniveau het veld [Regio]{.varname}. Sorteer oplopend op het veld [Doosnaam]{.varname}. Kies bij [Opties voor totalen]{.uicontrol} voor `Som`, laat weergeven [Details en totalen]{.uicontrol} en [Percentage van totaal]{.uicontrol.
3.  Pas indien nodig in de ontwerpweergave de breedte van de vakken voor de bedragen aan zodat deze goed worden weergegeven.

@exr-rapp002 - Omzet per doos per regio

1.  Kies [tab Maken > Wizard Rapport (groep Rapporten)]{.uicontrol}.
2.  Kies als gegevensbron de query [Verkoop per regio per doos]{.varname} en voeg alle velden toe. Neem als groepeerniveau het veld [Doosnaam]{.varname}. Sorteer oplopend op het veld [Regio]{.varname}. Kies bij [Opties voor totalen]{.uicontrol} voor `Som`, laat weergeven [Details en totalen]{.uicontrol} en [Percentage van totaal]{.uicontrol}. Kies de indeling [Met interval]{.uicontrol} en pas de titel aan.
3.  Pas indien nodig in de ontwerpweergave de lay-out van de vakken zodat alles goed wordt weergegeven.

@exr-rapp003 - Dooskosten met Bonbonkosten

1.  Kies [tab Maken > Wizard Rapport (groep Rapporten)]{.uicontrol}.
2.  Kies als gegevensbron de query [Bonbons per doos]{.varname} en voeg alle velden toe. Neem als groepeerniveau het veld [Doos]{.varname}. Sorteer oplopend op het veld [Bonbon]{.varname}. Kies bij [Opties voor totalen]{.uicontrol} voor `Som`, laat weergeven [Details en totalen]{.uicontrol}.
3.  Wijzig indien nodig in de Ontwerpweergave via het Eigenschappenvenster de notatie van de vakken voor de som in Euro.

@exr-rapp004 - Dooskosten met Bonbonkosten gegroepeerd

1.  Kopieer en plak [rapp003]{.varname} en noem de kopie [rapp004]{.varname}.
2.  Open rapport [rapp004]{.varname} in [Ontwerpweergave]{.uicontrol}.
3.  Klik op een lege plek in de sectie [Koptekst]{.uicontrol} en wijzig in [Eigenschappenvenster (tab Opmaak)]{.uicontrol} de eigenschap Nieuwe pagina in Voor sectie.
4.  Verplaatst de tekst Som naar rechts en plaats een horizontaal lijntje boven de tekst en de waarde.

@exr-rapp005 - Omzet per doos per order per periode

1.  Kopieer en plak [Omzet per doos per order per periode]{.varname} en noem de kopie [rapp005]{.varname}.
2.  Open rapport [rapp005]{.varname} in [Ontwerpweergave]{.uicontrol}.
3.  Verplaats het vak [Som([Bedrag])]{.varname} naar de sectie [Koptekst]{.uicontrol}, rechts van de Doosnaam.

@exr-rapp006 - Doos per pagina

1.  Kopieer en plak [rapp005]{.varname} en noem de kopie [rapp006]{.varname}.
2.  Open rapport [rapp006]{.varname} in [Ontwerpweergave]{.uicontrol}.
3.  Zet de eigenschap Nieuwe pagina voor de Koptekst (Doosnaam) op de waarde Voor sectie.

@exr-rapp007 - Doosetiketten

1.  Selecteer tabel [Dozen]{.varname}.
2.  Kies [tab Maken > Etiketten (groep Rapporten)]{.uicontrol}.
3.  Selecteer de juiste etiketsoort.
4.  Stel lettertype, tekengrootte en tekengewicht in.
5.  Voeg de velden en tekst toe volgens voorbeeld:

```
{Doosnaam}

Code  : {Dooscode}
Gewicht: {Gewicht} gram
```

6.  Sorteer oplopend op [Dooscode]{.varname}.

@exr-rapp008 - Jaarafzet dozen per regio

Maak een query volgens het ontwerp zoals hierna afgebeeld.

![](../images/reports/rapp008-query.png)

Maak een rapport via [tab Maken > Wizard Rapport (groep Rapporten)]{.uicontrol}. Baseer het rapport op de query [Jaarafzet dozen per regio]{.varname}. Voel alle velden toe en groepeer op [Regio]{.varname}. Pas de lay-out verder naar wens aan.

## Integratie

@exr-intg001 - Standaardbrief

Maak allereerst de query. Kies tab Maken > Queryontwerp (groep Query's)]{.uicontrol}. Voeg toe de tabellen [Klanten]{.varname}, [Orders]{.varname}, [Orderdetails]{.varname}, [Dozen]{.varname}, [Doosdetails]{.varname} en [Bonbons]{.varname}. Voeg uit de tabel [Klanten]{.varname} toe de velden [Achternaam]{.varname}, [Voornaam]{.varname}, [Straat]{.varname}, [Postcode]{.varname} en [Plaats]{.varname}. Voeg uit de tabel [Bonbons]{.varname} toe het veld [Chocoladetype]{.varname}. Geef bij dit laatste veld als criterium op `Wit`. Stel via het Eigenschappenvenster voor de [Queryeigenschappen]{.uicontrol} de waarde van de eigenschap [Unieke waarden]{.uicontrol} in op [Ja]{.uicontrol. Bewaar de query onder de naam [intg001]{.varname} en sluit deze.

Geef een rechtermuisklik op de naam van de zojuist gemaakte query en kies [Exporteren > Word Merge]{.uicontrol}. Kies een nieuw document maken waaraan de gegevens gekoppeld moeten worden.

Voeg de gewenste samenvoegvelden in en typ de overige tekst in, bijvoorbeeld zoals hierna is aangegeven:

```
<<Voornaam>> <<Achternaam>>
<<Straat>>
<<Postcode>>  <<Plaats>>

Beste <<Voornaam>>,
Graag willen we je een aanbieding doen voor onze nieuwste doos ...
```

Handel hierna het samenvoegen verder op de bekende wijze af.

@exr-intg002 - Export klantgegevens

1.  Geef een rechter muisklik op de tabel [Klanten]{.varname} en kies [Exporteren > Excel]{.uicontrol}.
2.  Geef een bestandsnaam en pad op en selecteer de optie [Gegevens exporteren met opmaak en indeling]{.uicontrol}.

## Normaliseren

@exr-norm001 - Orders

**ORDER**([ordernr]{.key}, orderdatum, klantnr)

**KLANT**([klantnr]{.key}, naam, adres, postcode, plaats)

**ORDERREGEL**([ordernr]{.key}, [artnr]{.key}, aantal, prijs)

**ARTIKEL**([artnr]{.key}, omschr, adviesprijs)

In de tabel ORDERREGEL is een veld prijs opgenomen om het mogelijk te maken dat de prijs op de factuur afwijkt van de adviesprijs.


@exr-norm003 - Cursusoverzicht

**WERKNEMERS**([werknemernr]{.key}, naam, afd)

**AFDELINGEN**([afd]{.key}, chef)

**CURSUSSEN**([cursusnr]{.key}, cursusomschr)

**DEELNAMES**([werknemernr]{.key}, [cursusnr]{.key}, [datum]{.key})

@exr-norm004 - Garage

**KLANT**([klantnaam, telnr]{.key}, adres, postcode, woonplaats)

**AUTO**([kenteken]{.key}, klantnaam, telnr, merk, type, bouwjaar)

**BEURT**([kenteken]{.key}, [datum]{.key}, [omschrijving]{.key}, arbeid, materialen)

![](../images/normalization/norm004-dsd.png)


@exr-norm005 - Klantcontacten

1.  Sleutel: [Achternaam]{.key}, [Voornaam]{.key}, [Bedrijf]{.key}
2.  Het veld [Bedrijf]{.varname} uit de tabel **CONTACT** koppelen aan veld [Naam]{.varname} uit de tabel **KLANT**. De tabel **KLANT** is de primaire tabel en de tabel **CONTACT** is de secundaire tabel.
3.  Verwijder veld [Bedrijf]{.varname} in de tabel **CONTACT** en voeg [Klantnr]{.varname} toe in deze tabel.


@exr-norm006 - Hoveniersbedrijf

**LEVERANCIER**([Levnaam]{.key}, adres, postcode, plaats)

**ARTIKEL**([Artikelnaam]{.key}, Soort, Hand_Stoof)

**AANBIEDING**([Levnaam]{.key}, [Artikelnaam]{.key}, Inkoopprijs)


@exr-norm007 - Onderdelen

**ONDERDEEL**([onderdeelnr]{.key}, onderdeelomschrijving, verkoopprijs)

**GESCHIKTHEID**([onderdeelnr]{.key}, [autotype]{.key}, [beginbouwjaar]{.key}, eindbouwjaar)

**VERKOOP**([autotype]{.key}, [bouwjaar]{.key}, verkoopaantal)

**AUTO**([autotype]{.key}, type-omschrijving)

**NORMGEG**([onderdeelnr]{.key}, [autotype]{.key}, normtijd, montagekosten)


@exr-norm008 - Relaties

1.  Het stagebureau van een school gebruikt deze twee tabellen voor de registratie van een stageplaats van studenten.
2.  Een minimale uitvoering is: **STAGEPLAATS**([studentnr]{.key}, [bedrijfsnr]{.key}, [begindatum]{.key}, einddatum).


@exr-norm009 - Optimaliseren database

1.  Dat is mogelijk.
2.  Dat is mogelijk.
3.  Uitgaande van de veronderstelling dat de waarde van het veld klas de gehele klas betreft, dan kan dit niet. Een mogelijke oplossing is het opnemen van een veld waarmee je kunt aangeven welke helft van een klas geroosterd wordt.
4.  Dat kan niet. Wanneer je twee klassen op hetzelfde moment, in hetzelfde lokaal, met dezelfde docent roostert, dan zou je twee verschillende records met dezelfde sleutelwaarde krijgen. Een mogelijke oplossing zou zijn om de sleutel uit te breiden met het veld klas.


@exr-norm010 - Sleutels en tabellen

1. Gegevenstype velden:

|veld      |gegevenstype|
|----------|------------|
|persnr    |Numeriek    |
|docnaam   |Tekst       |
|docadres  |Tekst       |
|postcode  |Tekst       |
|woonplaats|Tekst       |
|telnr     |Tekst       |
|gebdat    |Datum/tijd  |

2.  De sleutel is het veld [persnr]{.varname}. Dit is een primaire sleutel.
3.  Lastige vraag, antwoord hangt af van waar je allemaal rekening mee moet houden. Je zult een aantal vragen moeten bedenken zoals "Kun je twee docenten hebben met dezelfde achternaam op hetzelfde adres, met hetzelfde telefoonnummer? De combinatie met unieke waarden kan de primaire sleutel zijn.


@exr-norm011 - Doe-het-zelf zaak

Constante gegevens
: Naam van de doe-het-zelf zaak. Dit gegeven wordt niet opgenomen.

Procesgegevens
: `bedrag` = `aantal` * `prijs` (is niet op order vermeld) en `Totaalbedrag`. Deze procesgegevens worden niet opgenomen, wel [aantal]{.varname} en [prijs]{.varname}.

Elementaire gegevens
: ordernummer, orderdatum, leveranciernr, adres, postcode, plaats, artikelnr, omschrijving, aantal, prijs, leverdatum, inkoper.

0 NV
: **ORDER**([ordernr]{.key}, orderdatum, leveranciernr, adres, postcode, plaats, leverdatum, inkoper, RG[artikelnr, omschrijving, aantal, prijs])


1 NV
: **ORDER**([ordernr]{.key}, orderdatum, leveranciernr, adres, postcode, plaats, leverdatum, inkoper)
: **ORDERREGEL**([ordernr]{.key}, [artikelnr]{.key}, omschrijving, aantal, prijs)

2 NV
: **ORDER**([ordernr]{.key}, orderdatum, leveranciernr, adres, postcode, plaats, leverdatum, inkoper)
: **ORDERREGEL**([ordernr]{.key}, [artikelnr]{.key}, aantal)
: **ARTIKEL**([artikelnr]{.key}, omschrijving, prijs)

3 NV
: **ORDER**([ordernr]{.key}, orderdatum, leveranciernr, leverdatum, inkoper)
: **ORDERREGEL**([ordernr]{.key}, [artikelnr]{.key}, aantal)
: **ARTIKEL**([artikelnr]{.key}, omschrijving, prijs)
: **LEVERANCIER**([leveranciernr]{.key}, adres, postcode, plaats)

![](../images/normalization/norm011-dsd.png)


@exr-norm012 - Vrachtbrief

Procesgegevens
: `Totaalgewicht` = som van de afzonderlijke gewichten. Dit procesgegeven wordt niet opgenomen.

Elementaire gegevens
: vrachtnummer, datum, autonummer, kenteken, merk, laadvermogen, klantnr, naam, adres, plaats, colli, gewicht, chauffeur.


0 NV
: **VRACHT**([vrachtnummer]{.key}, datum, autonummer, kenteken, merk, laadvermogen, chauffeur, RG[klantnr, naam, adres, plaats, colli, gewicht])

1 NV
: **VRACHT**([vrachtnummer]{.key}, datum, autonummer, kenteken, merk, laadvermogen, chauffeur)
: **VRACHTREGEL**([vrachtnummer]{.key}, [klantnr]{.key}, naam, adres, plaats, colli, gewicht)

2 NV
: **VRACHT**([vrachtnummer]{.key}, datum, autonummer, kenteken, merk, laadvermogen, chauffeur)
: **VRACHTREGEL**([vrachtnummer]{.key}, [klantnr]{.key}, colli, gewicht)
: **KLANT**([klantnr]{.key}, naam, adres, plaats)

3 NV
: **VRACHT**([vrachtnummer]{.key}, datum, kenteken, chauffeur)
: **VRACHTREGEL**([vrachtnummer]{.key}, [klantnr]{.key}, colli, gewicht)
: **KLANT**([klantnr]{.key}, naam, adres, plaats)
: **VRACHTAUTO**([kenteken]{.key}, autonummer, merk, laadvermogen)


![](../images/normalization/norm012-dsd.png)


@exr-norm013 - Bestelbon

1. Procesgegevens zijn gegevens die afgeleid kunnen worden uit andere gegevens, vaak door een berekening. Op de bestelbon zijn de volgende procesgegevens aan te treffen:

  + bedrag = prijs * aantal
  + BTW bedrag = BTW percentage (afgeleid van btwcode) * bedrag
  + Het subtotaal van de bedragen
  + Het subtotaal van de BTW bedragen
  + Het totaalbedrag

2. Een herhalende (repeterende) groep is een groep van gegevens die vaker dan 1 keer voorkomen, die zich dus herhaalt.Op de bestelbon zijn de regels met daarin de bestellingen, herhalende groepen.

Constante gegevens
: Naam van de firma Datarex en het bankrekeningnummer. Van de betalingstermijn (hier 14 dagen) kan via de bon niet nagegaan worden of dit voor alle leveranciers hetzelfde is. In dat geval is het ook een constant gegeven. Verschilt de betalingstermijn per leverancier, dan is het een gegeven dat bij de leverancier hoort. Verder wordt het BTW percentage dat aan de btwcode gekoppeld is, als een constant gegeven beschouwd. Dit is ook maar de vraag of dit goed is, want btwpercentages kunnen in de tijd veranderen. Constante gegevens wordt niet opgenomen. En de betalingstermijn wordt ook als een constant gegeven beschouwd

Procesgegevens
: Zie hiervoor. Deze procesgegevens worden niet opgenomen.

Elementaire gegevens
: Bonnummer, Leveranciernummer, Naam, Adres, Plaats, artikelnummer, aantal, omschrijving, prijs, btwcode


0 NV
: **BON**([bonnummer]{.key}, leveranciernr, naam, adres, plaats, RG[artikelnr, aantal, omschrijving, prijs, btwcode])

1 NV
: **BON**([bonnummer]{.key}, leveranciernr, naam, adres, plaats)
: **BONREGEL**([bonnummer]{.key}, [artikelnr]{.key}, aantal, omschrijving, prijs, btwcode)

2 NV
: **BON**([bonnummer]{.key}, leveranciernr, naam, adres, plaats)
: **BONREGEL**([bonnummer]{.key}, [artikelnr]{.key}, aantal)
: **ARTIKEL**([artikelnr]{.key}, omschrijving, prijs, btwcode)

3 NV
: **BON**([bonnummer]{.key}, leveranciernr)
: **BONREGEL**([bonnummer]{.key}, [artikelnr]{.key}, aantal)
: **ARTIKEL**([artikelnr]{.key}, omschrijving, prijs, btwcode)
: **LEVERANCIER**([leveranciernr]{.key}, naam, adres, plaats)

![](../images/normalization/norm013-dsd.png)


@exr-norm014 - Boekingen

Procesgegevens
: bedrag, totaal aantal en totaal bedrag Deze procesgegevens worden niet opgenomen.

Elementaire gegevens
: pasnr, klantnr, voornaam, achternaam, plaats, postcode, telefoon, datumuitgifte, datum, aantal, titel, theater, prijs

0 NV
: **PAS**([pasnr]{.key}, datumuitgifte, klantnr, voornaam, achternaam, adres, postcode, plaats, telefoon, RG[idnummer, datum, aantal, titel, theater, prijs])

1 NV
: **PAS**([pasnr]{.key}, datumuitgifte, klantnr, voornaam, achternaam, adres, postcode, plaats, telefoon)
: **PASREGEL**([pasnr]{.key}, [idnummer]{.key}, datum, aantal, titel, theater, prijs)

Aannames:

+ Een voorstelling kan in alle theaters draaien.
+ De prijs is een eigenschap van een voorstelling en daarom in alle theaters hetzelfde.

2 NV
: **PAS**([pasnr]{.key}, datumuitgifte, klantnr, voornaam, achternaam, adres, postcode, plaats, telefoon)
: **PASREGEL**([pasnr, idnummer]{.key}, datum, aantal, theater)
: **VOORSTELLING**([idnummer]{.key}, titel, prijs)

3 NV
: **PAS**([pasnr]{.key}, datumuitgifte, klantnr)
: **PASREGEL**([pasnr]{.key}, [idnummer]{.key}, datum, aantal, theater)
: **VOORSTELLING**([idnummer]{.key}, titel, prijs)
: **KLANT**([klantnr]{.key}, voornaam, achternaam, adres, postcode, plaats, telefoon)


![](../images/normalization/norm014-dsd.png)


@exr-norm015 - Integratie

In verband met het Europese kampioenschap voetbal wil de NOS in samenwerking met een aantal kranten een klein geautomatiseerd informatiesysteem ontwikkelen. De bedoeling is de televisiekijkers en de krantenlezers zo goed mogelijk te informeren over het kampioenschap. Hiervoor zijn een aantal informatiebehoeftes opgesteld. Bepaal de tabellen met de velden die nodig zijn om in de informatiebehoefte te kunnen voorzien. Indien nodig kun je de eerder gemaakte tabellen uitbreiden met nieuwe velden.

1. **LAND**landnaam, trainer)  
   **SPELER**spelersnr, spelersnaam, landnaam)

2. **LAND**landnaam, trainer)  
   **BEGELEIDER**begeleidernaam, landnaam, functie)

3. **SPELER**spelersnr, spelersnaam, landnaam, goals)

4. **CLUB**clubnaam, clubland)  
   **SPELER**spelersnr, spelersnaam, landnaam, goals)

5. ![](../images/normalization/norm015.png)

@exr-norm016 - Postcodes

1.  [Plaats]{.varname} is functioneel afhankelijk van [Postcode]{.varname}.
2.  [Postcode]{.key}, [Huisnummer]{.key}

